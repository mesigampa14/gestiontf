{% extends 'base.html' %}

{% block content %}
<section class="card card-body">

  <div class="d-flex justify-content-between">
    <h1>Listado de Proyectos</h1>
    <a class="btn btn-outline-success heightBtn" href="{% url 'proyecto:nuevo' %}" style="height: 38px">
      {% include "icon/plus.html" %}
      Crear nuevo
    </a>
  </div>

  {% if messages %}
    {% for message in messages %}
      <div class="alert alert-{{ message.tags }}" role="alert">{{ message }}</div>
    {% endfor %}
  {% endif %}

  <table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">#</th>
      <th scope="col">Titulo</th>
      <th scope="col">Fecha</th>
      <th scope="col">Estado</th>
      <th scope="col">Acci√≥n</th>
    </tr>
  </thead>
  <tbody>
    {% if proyectos %}
      {% for proyecto in proyectos %}

      <tr>
        <th scope="row">{{proyecto.proyecto.id}}</th>
        <td>{{proyecto.proyecto.titulo}}</td>
        <td>{{proyecto.proyecto.presentacion|date:"d-m-Y"}}</td>
        <td>{{proyecto.get_etapa_display}} - {{proyecto.get_estado_display}}</td>
        <td>
          <a class="btn btn-primary" href="{% url 'proyecto:ver' proyecto.proyecto.id %}">Abrir</a>
        </td>
      </tr>
      {% endfor %}
    {% else %}
      <tr>
        <th scope="row" colspan="5" class="text-center">No se encontraron registros</th>
      </tr>
    {% endif %}
  </tbody>
</table>
</section>
{% endblock %}